TytuÅ‚ Zadania: Implementacja ModuÅ‚u 4 - Zaawansowane WskaÅºniki SprzedaÅ¼owe1. Manifest i Cel Biznesowy (DLACZEGO?)Manifest: PrzeksztaÅ‚camy niewidoczne sygnaÅ‚y w widoczne wskaÅºniki. KoÅ„czymy z erÄ… "przeczucia" sprzedawcy i wchodzimy w erÄ™ predykcji opartej na danych. Ten moduÅ‚ ma za zadanie daÄ‡ sprzedawcy "kokpit samolotu", pokazujÄ…cy kluczowe parametry lotu â€“ prÄ™dkoÅ›Ä‡, wysokoÅ›Ä‡ i ewentualne ryzyka â€“ zanim stanÄ… siÄ™ one krytyczne.Cel Biznesowy: WyposaÅ¼enie Co-Pilota w zdolnoÅ›Ä‡ do analizy predykcyjnej w czasie rzeczywistym. System ma oceniaÄ‡ dynamikÄ™ rozmowy i na jej podstawie generowaÄ‡ cztery kluczowe wskaÅºniki, ktÃ³re pozwolÄ… na lepsze prognozowanie, efektywniejsze zarzÄ…dzanie czasem i proaktywne reagowanie na zmieniajÄ…cÄ… siÄ™ sytuacjÄ™ w procesie sprzedaÅ¼y.2. DoÅ›wiadczenie UÅ¼ytkownika (UX) i Logika AI (JAK TO DZIAÅA?)DoÅ›wiadczenie UÅ¼ytkownika (UX):W StrategicPanel.js, pod nowo dodanym profilem psychometrycznym, pojawi siÄ™ kolejna, zwijana sekcja (accordion) o nazwie "ğŸ“Š WskaÅºniki SprzedaÅ¼owe". BÄ™dzie ona zawieraÄ‡ cztery kluczowe, graficzne widgety:ğŸŒ¡ï¸ Temperatura Zakupowa: WskaÅºnik zegarowy (gauge chart) pokazujÄ…cy w skali 0-100%, jak "gorÄ…cy" jest lead. Kolory bÄ™dÄ… siÄ™ zmieniaÄ‡ od niebieskiego (zimny) do czerwonego (gorÄ…cy).ğŸ—ºï¸ Etap PodrÃ³Å¼y Klienta: Prosta wizualizacja lejka sprzedaÅ¼owego (np. 4-etapowy) z podÅ›wietlonym aktualnym etapem, na ktÃ³rym znajduje siÄ™ klient (np. "Zbieranie Informacji", "PorÃ³wnywanie Ofert", "Finalizacja").âš–ï¸ Ryzyko Utraty (Churn Risk): WskaÅºnik ryzyka (np. tarcza z kolorem od zielonego do czerwonego) z procentowÄ… ocenÄ… prawdopodobieÅ„stwa utraty klienta.ğŸ’° PotencjaÅ‚ SprzedaÅ¼owy: Prosty, ale wyraÅºny widget pokazujÄ…cy szacowanÄ… wartoÅ›Ä‡ transakcji i pewnoÅ›Ä‡ prognozy.KaÅ¼dy z tych widgetÃ³w bÄ™dzie interaktywny â€“ po najechaniu myszkÄ…, uÅ¼ytkownik zobaczy tooltip z uzasadnieniem AI (rationale) oraz sugerowanÄ… strategiÄ… (strategy).Logika DziaÅ‚ania AI (MÃ³zg Systemu):Analiza wskaÅºnikÃ³w bÄ™dzie integralnÄ… czÄ™Å›ciÄ… "wolnej Å›cieÅ¼ki" (slow path) i bÄ™dzie nastÄ™powaÄ‡ bezpoÅ›rednio po syntezie archetypu klienta. To kluczowe, poniewaÅ¼ profil psychologiczny jest fundamentalnym kontekstem dla tej analizy.Analiza Kontekstowa: AI otrzymuje polecenie analizy wskaÅºnikÃ³w, majÄ…c do dyspozycji:CaÅ‚Ä… historiÄ™ rozmowy.Finalny, potwierdzony profil psychologiczny i archetyp klienta.Identyfikacja WzorcÃ³w: AI skanuje rozmowÄ™ w poszukiwaniu wzorcÃ³w jÄ™zykowych i behawioralnych.Temperatura: Pytania o dostÄ™pnoÅ›Ä‡, terminy, finansowanie -> podnoszÄ… temperaturÄ™. OgÃ³lne pytania, porÃ³wnania z konkurencjÄ… -> obniÅ¼ajÄ….Etap PodrÃ³Å¼y: Rodzaj zadawanych pytaÅ„ (ogÃ³lne vs. szczegÃ³Å‚owe) mapuje klienta na konkretny etap lejka.Ryzyko Utraty: DÅ‚ugie okresy ciszy, powtarzajÄ…ce siÄ™ obiekcje, wzmianki o "lepszej ofercie" -> podnoszÄ… ryzyko.Synteza z Profilem Psychologicznym: To jest najwaÅ¼niejszy element. AI musi poÅ‚Ä…czyÄ‡ wzorce z profilem.PrzykÅ‚ad myÅ›li AI: "Klient (Archetyp: Analityk) zadaje duÅ¼o szczegÃ³Å‚owych pytaÅ„ o TCO. To jest typowe dla etapu 'PorÃ³wnywanie Ofert' u tego archetypu i nie podnosi Ryzyka Utraty. Gdyby jednak 'Szybki Decydent' zadawaÅ‚ te same pytania, oznaczaÅ‚oby to wahanie i podniosÅ‚oby Ryzyko Utraty."Generowanie WynikÃ³w: AI zwraca ustrukturyzowany obiekt JSON zawierajÄ…cy wartoÅ›ci dla kaÅ¼dego wskaÅºnika, uzasadnienie i strategiÄ™.3. Plan DziaÅ‚ania - Backend (Vibecoding)Krok 1: Rozbuduj Model Bazy Danych (models/domain.py)W tabeli Session, dodaj nowe pole do przechowywania wynikÃ³w analizy wskaÅºnikÃ³w.# W klasie Session
class Session(Base):
    # ... (istniejÄ…ce pola psychologiczne)
    sales_indicators = Column(JSONB, nullable=True, comment="Predykcyjne wskaÅºniki sprzedaÅ¼owe dla sesji.")
Wygeneruj i uruchom nowÄ… migracjÄ™ Alembic, aby dodaÄ‡ tÄ™ kolumnÄ™ do bazy.Krok 2: Rozbuduj Schematy PydanticStwÃ³rz nowy plik backend/app/schemas/indicators.py.Zdefiniuj w nim szczegÃ³Å‚owe modele dla odpowiedzi AI.# W pliku backend/app/schemas/indicators.py
class SalesIndicator(BaseModel):
    value: Union[str, int, float]
    rationale: str
    strategy: str

class SalesIndicatorsAnalysis(BaseModel):
    purchase_temperature: SalesIndicator
    customer_journey_stage: SalesIndicator
    churn_risk: SalesIndicator
    sales_potential: SalesIndicator
Krok 3: Zaktualizuj "MÃ³zg" (services/session_psychology_service.py)Zmodyfikuj gÅ‚Ã³wnÄ… funkcjÄ™ update_cumulative_profile.Po kroku syntezy archetypu, dodaj kolejny krok w tym samym zadaniu w tle.Nowy Krok w Prompcie AI: Rozbuduj gÅ‚Ã³wny prompt o nowÄ… sekcjÄ™:KROK 3: Na podstawie caÅ‚ej rozmowy ORAZ finalnego profilu psychologicznego i archetypu, przeprowadÅº analizÄ™ wskaÅºnikÃ³w sprzedaÅ¼owych. Dla kaÅ¼dego wskaÅºnika podaj wartoÅ›Ä‡, uzasadnienie i strategiÄ™. ZwrÃ³Ä‡ wynik w Å›ciÅ›le okreÅ›lonej strukturze JSON.
Upewnij siÄ™, Å¼e wynik tej analizy jest poprawnie parsowany i zapisywany w nowym polu session.sales_indicators.4. Plan DziaÅ‚ania - Frontend (Vibecoding)Krok 1: StwÃ³rz Nowe Komponenty WizualizacyjneW folderze frontend/src/components/ stwÃ³rz nowy folder indicators.WewnÄ…trz stwÃ³rz 4 nowe, wyspecjalizowane komponenty:PurchaseTemperatureGauge.js: UÅ¼yj biblioteki Recharts do stworzenia wskaÅºnika zegarowego (<RadialBarChart>).JourneyStageFunnel.js: Prosty komponent CSS lub z uÅ¼yciem Material-UI Stepper do wizualizacji lejka.ChurnRiskIndicator.js: Komponent wyÅ›wietlajÄ…cy ikonÄ™ tarczy, ktÃ³rej kolor (success, warning, error) zaleÅ¼y od wartoÅ›ci ryzyka.SalesPotentialCard.js: Prosta karta (<Card>) wyÅ›wietlajÄ…ca kwotÄ™ i pewnoÅ›Ä‡.KaÅ¼dy z tych komponentÃ³w musi byÄ‡ owiniÄ™ty w <Tooltip> i wyÅ›wietlaÄ‡ rationale oraz strategy.Krok 2: StwÃ³rz Komponent GÅ‚Ã³wny (SalesIndicatorsDashboard.js)W folderze frontend/src/components/indicators/ stwÃ³rz plik SalesIndicatorsDashboard.js.BÄ™dzie on przyjmowaÅ‚ jako props obiekt indicatorsData (czyli session.sales_indicators).BÄ™dzie on renderowaÅ‚ 4 powyÅ¼sze komponenty w siatce (<Grid>).Krok 3: Zintegruj z Panelem StrategicznymOtwÃ³rz plik frontend/src/components/conversation/StrategicPanel.js.Zaimportuj SalesIndicatorsDashboard.js.Dodaj nowÄ…, zwijanÄ… sekcjÄ™ (<Accordion>) o tytule "ğŸ“Š WskaÅºniki SprzedaÅ¼owe".Wykorzystaj istniejÄ…cy stan: Dane dla tego komponentu bÄ™dÄ… pochodziÄ‡ z tego samego obiektu sesji, ktÃ³ry juÅ¼ pobierasz dla profilu psychologicznego. Wystarczy, Å¼e przekaÅ¼esz sessionData.sales_indicators jako props. Komponent powinien byÄ‡ renderowany warunkowo, tylko jeÅ›li te dane istniejÄ….